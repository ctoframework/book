\usepackage{listings}
\lstdefinestyle{pythonstyle}{
    language=Python,
    backgroundcolor=\color{gray!10},   % Choose the background color
    basicstyle=\ttfamily\small,          % Choose the font and size
    keywordstyle=\color{blue},            % Keywords color
    commentstyle=\color{green},           % Comments color
    stringstyle=\color{red},              % Strings color
    numbers=left,                        % Line numbers on the left
    numberstyle=\tiny\color{gray},        % Line numbers style
    stepnumber=1,                        % Line numbers step
    numbersep=5pt,                       % Distance from line numbers to code
    tabsize=4,                           % Tab size
    showspaces=false,                    % Show spaces in code
    showstringspaces=false,              % Show spaces in strings
    showtabs=false,                      % Show tabs in code
    frame=single,                        % Frame around code
    rulecolor=\color{black},             % Frame color
    breaklines=true,                     % Enable automatic line breaking
    breakatwhitespace=true,              % Break lines at whitespace (optional)
}
